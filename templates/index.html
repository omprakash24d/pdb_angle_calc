<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- SEO Meta Tags -->
    <meta
      name="description"
      content="Instantly calculate Phi and Psi angles from your PDB files. View results and download them in CSV, PDF, or TXT formats. A reliable bioinformatics tool for protein structure analysis."
    />
    <meta
      name="keywords"
      content="PDB, Phi angle, Psi angle, Bioinformatics, Protein Structure, Structural Biology, Protein Data Bank, Dihedral angles, Calculate angles, CSV, TXT, PDF download, Structural analysis, Bioinformatics tools"
    />
    <meta name="author" content="Om Prakash" />
    <meta name="robots" content="index, follow" />
    <meta
      name="robots"
      content="max-snippet:-1, max-image-preview:large, max-video-preview:-1"
    />

    <!-- Canonical Link to Prevent Duplicate Content -->
    <link rel="canonical" href="{{ request.url }}" />

    <!-- Open Graph Meta Tags for Social Media -->
    <meta property="og:type" content="website" />
    <meta
      property="og:title"
      content="Dihedral Angle Calculation for PDB Files | Calculate Phi and Psi Angles"
    />
    <meta
      property="og:description"
      content="Upload your PDB file and calculate Phi and Psi angles instantly. Download results in CSV, PDF, or TXT formats for further analysis."
    />
    <meta
      property="og:image"
      content="{{ url_for('static', filename='images/og-image.png', _external=True) }}"
    />
    <meta property="og:url" content="{{ request.url }}" />

    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta
      name="twitter:title"
      content="Dihedral Angle Calculator for PDB Files"
    />
    <meta
      name="twitter:description"
      content="Instantly calculate Phi and Psi angles from your PDB files. Download results in CSV, TXT, or PDF formats."
    />
    <meta
      name="twitter:image"
      content="{{ url_for('static', filename='images/og-image.png', _external=True) }}"
    />

    <!-- Structured Data - JSON-LD for Enhanced Search Engine Visibility -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Dihedral Angle Calculator",
        "description": "Instantly calculate Phi and Psi angles from PDB files. View and download results in CSV, TXT, or PDF formats.",
        "url": "{{ request.url }}",
        "image": "{{ url_for('static', filename='images/og-image.png', _external=True) }}",
        "author": {
          "@type": "Person",
          "name": "Om Prakash"
        },
        "publisher": {
          "@type": "Organization",
          "name": "Om Prakash"
        },
        "potentialAction": {
          "@type": "Action",
          "name": "Upload and Calculate Dihedral Angles from PDB Files"
        },
        "softwareVersion": "1.0",
        "screenshot": "{{ url_for('static', filename='images/og-image.png', _external=True) }}",
        "dateCreated": "2024-11-21",
        "dateModified": "2024-11-21"
      }
    </script>

    <!-- Title Tag - SEO Optimized -->
    <title>
      Dihedral Angle Calculator | Calculate Phi and Psi Angles from PDB Files
    </title>

    <!-- Favicon -->
    <link rel="icon" href="/static/images/favicon1.svg" type="image/svg+xml" />

    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
      rel="stylesheet"
    />

    <!-- External CSS -->
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/styles.css', _external=True) }}"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.10.5/font/bootstrap-icons.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>

  <body>
    <!-- Header Section -->
    <header class="header-section text-white py-4 bg-dark">
      <div class="container">
        <!-- Navbar -->
        <nav class="navbar navbar-expand-lg navbar-dark sticky-top">
          <a class="navbar-brand" href="https://pdb.indhinditech.com/"
            >Dihedral Angle Calculator</a
          >
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarNav"
            aria-controls="navbarNav"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto">
              <li class="nav-item">
                <a class="nav-link active" href="https://pdb.indhinditech.com/"
                  >Home</a
                >
              </li>
              <li class="nav-item">
                <a class="nav-link" href="https://www.rcsb.org/" target="_blank"
                  >Download PDB</a
                >
              </li>
              <li class="nav-item">
                <a
                  class="nav-link"
                  href="https://indhinditech.com/contact-us/"
                  target="_blank"
                  >Contact Us</a
                >
              </li>
              <li class="nav-item">
                <a
                  class="nav-link"
                  href="https://github.com/omprakash24d/pdb_angle_calc/blob/main/README.md"
                  target="_blank"
                  >Documentation</a
                >
              </li>
            </ul>
          </div>
        </nav>

        <!-- Header Content -->
        <div class="text-center mt-3">
          <div class="header-content">
            <p class="lead mb-0">
              Effortlessly calculate Phi and Psi angles from your PDB files and
              download the results in various formats.
            </p>
          </div>
        </div>
      </div>
    </header>

    <!-- Main Content Section -->
    <main class="container my-1">
      <!-- Upload Section -->
      <section id="uploadSection" class="container-fluid py-5">
        <div class="row justify-content-center">
          <div class="col-12 col-md-8 col-lg-6">
            <form id="uploadForm" class="p-4 shadow-lg rounded bg-white">
              <div class="mb-4">
                <label
                  for="fileInput"
                  class="form-label text-secondary fw-semibold fs-5 mb-3 d-block"
                >
                  <i class="bi bi-file-earmark-earbuds text-primary me-2"></i>
                  Select Your PDB File:
                </label>

                <!-- File Input -->
                <div class="input-group">
                  <input
                    type="file"
                    name="file"
                    accept=".pdb"
                    class="form-control border-primary rounded-pill py-3"
                    id="fileInput"
                    required
                  />
                </div>
                <small class="form-text text-muted d-block mt-2"
                  >Only `.pdb` files are supported. Max size: 10MB.</small
                >

                <!-- Error Message -->
                <div
                  id="fileError"
                  class="text-danger mt-2"
                  style="display: none"
                >
                  <small>Invalid file type. Please upload a `.pdb` file.</small>
                </div>
              </div>

              <!-- Submit Button -->
              <div class="text-center my-4">
                <button
                  type="submit"
                  class="btn btn-primary rounded-pill px-5 py-3 fs-5 shadow-sm position-relative hover-zoom"
                >
                  <i class="bi bi-cloud-upload-fill me-2"></i> Upload and
                  Calculate
                </button>
              </div>
            </form>
          </div>
        </div>
      </section>

      <!-- Loading Indicator -->
      <section id="loading" class="text-center my-5" style="display: none">
        <div
          class="spinner-border text-primary"
          role="status"
          style="width: 4rem; height: 4rem"
        >
          <span class="visually-hidden">Loading...</span>
        </div>
        <p class="mt-3 fs-4 text-secondary">Processing, please wait...</p>
        <p class="text-muted fs-5">
          Your file is being processed. This may take a moment.
        </p>
      </section>

      <!-- Results Section -->
      <section id="results" class="mt-3 w-100" style="display: none">
        <h2 class="text-center text-primary mb-4">Results of PDB Analysis</h2>

        <!-- Results Table -->
        <div
          id="resultsTable"
          class="table-responsive border rounded-3 shadow-lg bg-light"
          style="max-height: 450px; overflow-y: auto"
        >
          <table class="table table-striped table-hover table-bordered">
            <thead class="table-dark sticky-top">
              <tr>
                <th>PDB Code</th>
                <th>Chain ID</th>
                <th>Residue</th>
                <th>Residue ID</th>
                <th>Phi (°)</th>
                <th>Psi (°)</th>
              </tr>
            </thead>
            <tbody id="resultsBody"></tbody>
          </table>
        </div>

        <!-- Download Options -->
        <div class="text-center mt-5">
          <h4 class="mb-4 text-muted">Download Results As:</h4>
          <div class="btn-group" role="group" aria-label="Download Options">
            <button
              class="btn btn-outline-success rounded-pill px-4 py-2 shadow-sm border-0 hover-zoom mx-2"
              onclick="download('csv')"
            >
              <i class="bi bi-file-earmark-spreadsheet me-2"></i> CSV
            </button>
            <button
              class="btn btn-outline-warning rounded-pill px-4 py-2 shadow-sm border-0 hover-zoom mx-2"
              onclick="download('txt')"
            >
              <i class="bi bi-file-earmark-text me-2"></i> TXT
            </button>
            <button
              class="btn btn-outline-danger rounded-pill px-4 py-2 shadow-sm border-0 hover-zoom mx-2"
              onclick="download('pdf')"
            >
              <i class="bi bi-file-earmark-pdf me-2"></i> PDF
            </button>
          </div>
        </div>
      </section>

      <!-- Error Message -->
      <section
        id="error"
        class="alert alert-danger alert-dismissible fade show mt-3"
        role="alert"
        style="display: none"
      >
        <strong>Error!</strong> Something went wrong, please try again later.
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="alert"
          aria-label="Close"
        ></button>
      </section>
    </main>

    <!-- Footer Section -->
    <footer class="bg-dark text-white py-4 mt-5">
      <div class="container text-center">
        <p>&copy; 2024 Dihedral Angle Calculator | All Rights Reserved</p>
        <p>
          Designed and Developed by
          <a
            href="https://www.instagram.com/omprakash24d/"
            target="_blank"
            class="text-white font-weight-bold text-decoration-none hover-underline"
          >
            Om Prakash
          </a>
        </p>
        <p class="mt-2">
          Central University Of South Bihar (Department Of Bioinformatics)
        </p>
        <div class="social-icons mt-2">
          <a
            href="https://www.instagram.com/omprakash24d/"
            target="_blank"
            class="text-white mx-3 social-icon"
          >
            <i class="fab fa-instagram fa-lg"></i>
          </a>
          <a
            href="https://www.linkedin.com/in/omprakash24d/"
            target="_blank"
            class="text-white mx-3 social-icon"
          >
            <i class="fab fa-linkedin fa-lg"></i>
          </a>
          <a
            href="mailto:omprakash24d@gmail.com"
            class="text-white mx-3 social-icon"
          >
            <i class="fas fa-envelope fa-lg"></i>
          </a>
        </div>
      </div>
    </footer>

    <!-- External JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
  </body>
</html>
